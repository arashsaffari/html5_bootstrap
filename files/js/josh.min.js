/**
 * Josh.js - A JavaScript library to animate content on page scroll.
 * Version: 1.0.8
 * Author: Al Mamun
 * License: MIT
 * Repo: https://github.com/mamunhpath/josh.js
 * Demo: https://mamunhpath.github.io/josh.js
 */
 "use strict";var _createClass=function(){function n(n,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}();function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Josh=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,n),this.initClass=e.initClass||"josh-js",this.initDom=document.querySelectorAll("."+this.initClass),this.animClass=e.animClass||"animate__animated",this.offset=e.offset||.2,this.animateInMobile=void 0===e.animateInMobile||e.animateInMobile,this.onDOMChange=void 0!==e.onDOMChange&&e.onDOMChange,this.intersectOnScroll(this.initDom),this.callOnDOMChange(),this.addCss(this.initDom)}return _createClass(n,[{key:"intersectionObserverCallback",value:function(n,e){var i=!this.animateInMobile&&this.isMobile();n.forEach((function(n){var t=n.target,s=t.dataset.joshAnimName,a=t.dataset.joshIteration,o=t.dataset.joshDuration,r=t.dataset.joshAnimDelay;if(n.isIntersecting){var l="\n          visibility: visible;\n          animation-name: "+s+";\n          animation-duration: "+o+";\n          animation-iteration-count: "+a+";\n          -webkit-animation-delay: "+r+";\n          animation-delay: "+r+";\n        ";i||(t.style=t.style.cssText+l),e.unobserve(t)}}))}},{key:"addCss",value:function(n){var e=this;n.length>0?n.forEach((function(n){e.cssUtil(n)})):this.cssUtil(n)}},{key:"cssUtil",value:function(n){var e=!this.animateInMobile&&this.isMobile();n.classList.add(this.animClass),e||(n.style=n.style.cssText+"visibility: hidden")}},{key:"intersectOnScroll",value:function(n){if(!("IntersectionObserver"in window))throw new Error("IntersectionObserver is not support by this browser. Try by adding pollyfil or use other library.");var e=new IntersectionObserver(this.intersectionObserverCallback.bind(this),{root:null,rootMargin:"0px",threshold:this.offset});n.length>0?n.forEach((function(n){e.observe(n)})):e.observe(n)}},{key:"callOnDOMChange",value:function(){var n=this;window.addEventListener("DOMContentLoaded",(function(){if(n.onDOMChange){new MutationObserver((function(e){e.forEach((function(e){var i=e.addedNodes;null!==i&&i.forEach((function(e){n.addCss(e),n.intersectOnScroll(e)}))}))})).observe(document.body,{childList:!0,subtree:!0})}}))}},{key:"isMobile",value:function(){return/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}]),n}();